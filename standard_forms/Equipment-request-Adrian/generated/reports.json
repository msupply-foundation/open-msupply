{
  "reports": [
    {
      "id": "equipment-request_1_0_0_true",
      "name": "Equipment Request",
      "template": {
        "index": {
          "template": "template.html",
          "header": "header.html",
          "footer": null,
          "query": [
            "query.graphql"
          ],
          "convert_data": null,
          "convert_data_type": "Extism"
        },
        "entries": {
          "style.css": {
            "type": "Resource",
            "data": "/* Print and screen layout */\r\n@media print {\r\n  @page {\r\n    size: A4 portrait;\r\n    margin: 1cm;\r\n  }\r\n}\r\n\r\n/* Header styling */\r\n.header_section {\r\n  width: 100%;\r\n  border-bottom: 2px solid #333;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.logo_cell {\r\n  width: 15%;\r\n  text-align: left;\r\n}\r\n\r\n.logo {\r\n  height: 80px;\r\n  display: block;\r\n}\r\n\r\n.store_info {\r\n  width: 45%;\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.store_name {\r\n  font-weight: bold;\r\n  font-size: 14pt;\r\n}\r\n\r\n.address, .contact {\r\n  font-size: 9pt;\r\n  color: #666;\r\n}\r\n\r\n.form_title {\r\n  width: 40%;\r\n  text-align: right;\r\n  vertical-align: top;\r\n}\r\n\r\n.form_title h1 {\r\n  font-size: 24pt;\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n/* Request info section */\r\n.request_info {\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n  background-color: #f5f5f5;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.info_row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Base typography */\r\nbody {\r\n  font-family: Arial, sans-serif;\r\n  font-size: 10pt;\r\n  line-height: 1.4;\r\n  margin: 0;\r\n  padding: 20px;\r\n}\r\n\r\n/* Table styling */\r\n.items_table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.table_header th {\r\n  background-color: #e6e6e6;\r\n  border: 1px solid #333;\r\n  padding: 8px;\r\n  text-align: left;\r\n  font-weight: bold;\r\n}\r\n\r\n.item_row td {\r\n  border: 1px solid #333;\r\n  padding: 8px;\r\n  vertical-align: top;\r\n}\r\n\r\n.quantity {\r\n  text-align: center;\r\n  width: 100px;\r\n}\r\n\r\n.notes {\r\n  width: 200px;\r\n}\r\n\r\n/* Comments and signatures */\r\n.comments_section {\r\n  margin-bottom: 30px;\r\n  padding: 15px;\r\n  border: 1px solid #ddd;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.signature_section {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 40px;\r\n}\r\n\r\n.signature_box {\r\n  width: 45%;\r\n  border: 1px solid #333;\r\n  padding: 20px;\r\n  min-height: 80px;\r\n}\r\n\r\n.signature_box p {\r\n  margin: 10px 0;\r\n  border-bottom: 1px solid #333;\r\n  padding-bottom: 5px;\r\n}\r\n/* Status banners */\r\n.status_banner {\r\n  padding: 10px;\r\n  margin-bottom: 20px;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n.status_banner.draft {\r\n  background-color: #fff3cd;\r\n  border: 1px solid #ffeaa7;\r\n  color: #856404;\r\n}\r\n\r\n.status_banner.sent {\r\n  background-color: #d1ecf1;\r\n  border: 1px solid #bee5eb;\r\n  color: #0c5460;\r\n}\r\n\r\n.status_banner.approved {\r\n  background-color: #d4edda;\r\n  border: 1px solid #c3e6cb;\r\n  color: #155724;\r\n}\r\n\r\n/* Priority badges */\r\n.priority {\r\n  padding: 3px 8px;\r\n  border-radius: 3px;\r\n  font-size: 8pt;\r\n  font-weight: bold;\r\n}\r\n\r\n.priority.high {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.priority.medium {\r\n  background-color: #ffc107;\r\n  color: black;\r\n}\r\n\r\n.priority.low {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n\r\n/* Table enhancements */\r\n.item_row.odd {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.item_row.even {\r\n  background-color: white;\r\n}\r\n\r\n.line_number {\r\n  text-align: center;\r\n  width: 50px;\r\n  font-weight: bold;\r\n}\r\n\r\n.cost, .total {\r\n  text-align: right;\r\n  font-family: monospace;\r\n}\r\n\r\n.no_items {\r\n  text-align: center;\r\n  font-style: italic;\r\n  color: #666;\r\n  padding: 20px;\r\n}\r\n\r\n/* Summary section */\r\n.summary {\r\n  margin-top: 30px;\r\n  padding: 20px;\r\n  border: 2px solid #333;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.summary_grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 15px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.summary_item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 8px;\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n  border-radius: 3px;\r\n}\r\n\r\n.summary_item label {\r\n  font-weight: bold;\r\n}\r\n\r\n/* Supplier info box */\r\n.supplier_info {\r\n  float: right;\r\n  width: 300px;\r\n  padding: 15px;\r\n  border: 1px solid #ddd;\r\n  background-color: #f9f9f9;\r\n  margin-left: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.supplier_info h3 {\r\n  margin-top: 0;\r\n  color: #333;\r\n}\r\n\r\n/* Print-specific adjustments */\r\n@media print {\r\n  .status_banner {\r\n    border: 2px solid #333 !important;\r\n    background-color: white !important;\r\n    color: black !important;\r\n  }\r\n  \r\n  .priority {\r\n    border: 1px solid #333 !important;\r\n    background-color: white !important;\r\n    color: black !important;\r\n  }\r\n  \r\n  .summary_grid {\r\n    display: block;\r\n  }\r\n  \r\n  .summary_item {\r\n    margin-bottom: 5px;\r\n  }\r\n}\r\n"
          },
          "header.html": {
            "type": "TeraTemplate",
            "data": {
              "output": "Html",
              "template": "<table class=\"header_section\">\r\n  <tr>\r\n    <th class=\"logo_cell\">\r\n      <img class=\"logo\" src=\"{{ data.store.logo }}\" />\r\n    </th>\r\n    <th class=\"store_info\">\r\n      <span class=\"store_name\">{{ data.store.storeName }}</span><br>\r\n      <span class=\"address\">{{ data.store.name.address1 }}</span><br>\r\n      <span class=\"address\">{{ data.store.name.address2 }}</span><br>\r\n      <span class=\"contact\">Phone: {{ data.store.name.phone }}</span><br>\r\n      <span class=\"contact\">Email: {{ data.store.name.email }}</span>\r\n    </th>\r\n    <th class=\"form_title\">\r\n      <h1>Equipment Request</h1>\r\n    </th>\r\n  </tr>\r\n</table>\r\n\r\n<div class=\"info_row\">\r\n    <span>Request Number: {{ data.requisition.requisitionNumber }}</span>\r\n    <span>Date: {{ data.requisition.createdDatetime | date(format=\"%d/%m/%Y\") }}</span>\r\n  </div>\r\n\r\n<div class=\"request_info\">\r\n  {% if data.requisition.status == \"DRAFT\" %}\r\n    <div class=\"status_banner draft\">DRAFT - Not Yet Submitted</div>\r\n  {% elif data.requisition.status == \"SENT\" %}\r\n    <div class=\"status_banner sent\">SUBMITTED - Awaiting Approval</div>\r\n  {% elif data.requisition.status == \"FINALISED\" %}\r\n    <div class=\"status_banner approved\">APPROVED</div>\r\n  {% else %}\r\n    <div class=\"status_banner\">Status: {{ data.requisition.status }}</div>\r\n  {% endif %}\r\n  </div>\r\n</div>\r\n\r\n<!-- Conditional supplier information -->\r\n{% if data.requisition.otherParty %}\r\n  <div class=\"supplier_info\">\r\n    <h3>Supplier Information</h3>\r\n    <p><strong>{{ data.requisition.otherParty.name }}</strong></p>\r\n    <p>Code: {{ data.requisition.otherParty.code }}</p>\r\n    {% if data.requisition.otherParty.address1 %}\r\n      <p>{{ data.requisition.otherParty.address1 }}</p>\r\n      {% if data.requisition.otherParty.address2 %}\r\n        <p>{{ data.requisition.otherParty.address2 }}</p>\r\n      {% endif %}\r\n    {% endif %}\r\n  </div>\r\n{% endif %}\r\n"
            }
          },
          "template.html": {
            "type": "TeraTemplate",
            "data": {
              "output": "Html",
              "template": "<style>\n  {% include \"style.css\" %}\n</style>\n\n<!-- At the top of template.html -->\n{% macro formatDate(datetime) %}\n  {% if datetime %}\n    {{ datetime | date(format=\"%d/%m/%Y\") }}\n  {% else %}\n    N/A\n  {% endif %}\n{% endmacro %}\n\n{% macro formatCurrency(amount) %}\n  {% if amount %}\n    ${{ amount | round(precision=2) }}\n  {% else %}\n    $0.00\n  {% endif %}\n{% endmacro %}\n\n{% macro priorityBadge(quantity) %}\n  {% if quantity > 100 %}\n    <span class=\"priority high\">HIGH</span>\n  {% elif quantity > 50 %}\n    <span class=\"priority medium\">MEDIUM</span>\n  {% else %}\n    <span class=\"priority low\">LOW</span>\n  {% endif %}\n{% endmacro %}\n\n<!-- Using the macros -->\n<div class=\"dates\">\n  <p>Created: {{ self::formatDate(datetime=data.requisition.createdDatetime) }}</p>\n  <p>Updated: {{ self::formatDate(datetime=data.requisition.finalisedDatetime) }}</p>\n</div>\n\n<div class=\"equipment_request\">\n  <table class=\"items_table\">\n  <thead>\n    <tr class=\"table_header\">\n      <th>Line #</th>\n      <th>Item Code</th>\n      <th>Item Name</th>\n      <th>Requested Qty</th>\n      <th>Priority</th>\n      <th>Status</th>\n    </tr>\n  </thead>\n  <tbody>\n    {% for line in data.requisition.lines.nodes %}\n    <tr class=\"item_row {% if loop.index is odd %}odd{% else %}even{% endif %}\">\n      <td class=\"line_number\">{{ loop.index }}</td>\n      <td>{{ line.item.code }}</td>\n      <td>{{ line.item.name }}</td>\n            <td class=\"quantity\">\n        {{ line.requestedQuantity | default(value=0) }}\n      </td>\n      <td class=\"priority\">{{ self::priorityBadge(quantity=line.requestedQuantity) }}</td>\n      <td class=\"status\">\n        {% if line.requestedQuantity %}\n          REQUESTED\n        {% else %}\n          PENDING\n        {% endif %}\n      </td>\n    </tr>\n    {% endfor %}\n    \n    {% if data.requisition.lines.nodes | length == 0 %}\n    <tr>\n      <td colspan=\"6\" class=\"no_items\">No items requested</td>\n    </tr>\n    {% endif %}\n  </tbody>\n</table>\n\n\n  {% if data.requisition.comment %}\n  <div class=\"comments_section\">\n    <h3>Comments:</h3>\n    <p>{{ data.requisition.comment }}</p>\n  </div>\n  {% endif %}\n\n  <div class=\"signature_section\">\n    <div class=\"signature_box\">\n      <p>Requested by: _________________</p>\n      <p>Date: _________________</p>\n    </div>\n    <div class=\"signature_box\">\n      <p>Approved by: _________________</p>\n      <p>Date: _________________</p>\n    </div>\n  </div>\n</div>"
            }
          },
          "query.graphql": {
            "type": "GraphGLQuery",
            "data": {
              "query": "query equipmentRequestQuery($storeId: String!, $dataId: String!) {\r\n  requisition(storeId: $storeId, id: $dataId) {\r\n    ... on RequisitionNode {\r\n      id\r\n      status\r\n      requisitionNumber\r\n      createdDatetime\r\n      finalisedDatetime\r\n      comment\r\n      otherParty(storeId: $storeId) {\r\n        name\r\n        code\r\n        address1\r\n        address2\r\n      }\r\n      lines {\r\n        nodes {\r\n          requestedQuantity\r\n          item {\r\n            code\r\n            name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  store(id: $storeId) {\r\n    ... on StoreNode {\r\n      storeName\r\n      logo\r\n      name(storeId: $storeId) {\r\n        address1\r\n        address2\r\n        phone\r\n        email\r\n      }\r\n    }\r\n  }\r\n}\r\n",
              "variables": null
            }
          }
        }
      },
      "context": "REQUISITION",
      "sub_context": null,
      "argument_schema_id": null,
      "comment": null,
      "is_custom": true,
      "version": "1.0.0",
      "code": "equipment-request",
      "form_schema": null,
      "excel_template_buffer": null
    }
  ]
}