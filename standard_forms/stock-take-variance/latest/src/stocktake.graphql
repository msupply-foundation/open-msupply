query StocktakeQuery(
  $storeId: String!
  $dataId: String!
  $sort: PrintReportSortInput
) {
  stocktake(storeId: $storeId, id: $dataId) {
    ... on StocktakeNode {
      id
      storeId
      stocktakeDate
      stocktakeNumber
      status
      createdDatetime
      description
      comment
    }
    ... on NodeError {
      __typename
      error {
        description
      }
    }
  }
  stocktakeLines(
    storeId: $storeId
    stocktakeId: $dataId
    reportSort: $sort
    # Current limit for stocktake lines in one request is 1000
    # Very possible for larger stocktakes to exist, meaning not all pages available in report
    # https://github.com/msupply-foundation/open-msupply/issues/8574
    page: { first: 1000 }
  ) {
    ... on StocktakeLineConnector {
      nodes {
        id
        itemId
        item {
          ... on ItemNode {
            code
            name
          }
        }
        packSize
        expiryDate
        countedNumberOfPacks
        batch
        snapshotNumberOfPacks
        costPricePerPack
        comment
        reasonOption {
          ... on ReasonOptionNode {
            reason
            id
          }
        }
      }
    }
  }
  store(id: $storeId) {
    ... on StoreNode {
      code
      storeName
      logo
      name(storeId: $storeId) {
        ... on NameNode {
          address1
          address2
          code
          email
          name
          phone
        }
      }
    }
  }
}
