{
  "type": "VerticalLayout",
  "elements": [
    {
      "type": "Label",
      "text": "Program Enrolment",
      "variant": "h1"
    },
    {
      "type": "Control",
      "scope": "#/properties/enrolmentDatetime",
      "label": "Enrolment Date",
      "options": {
        "readonly": true,
        "dateOnly": true
      }
    },
    {
      "type": "IdGenerator",
      "label": "Enrolment Patient Id",
      "scope": "#/properties/enrolmentPatientId",
      "options": {
        "parts": [
          {
            "type": "StoreName",
            "mutations": [{ "firstNChars": 3 }, { "toUpperCase": true }]
          },
          {
            "type": "Number",
            "numberName": "HIVProgram",
            "mutations": [{ "padString": "0000" }]
          }
        ],
        "allowManualEntry": true,
        "validations": [
          {
            "type": "UniqueEnrolmentId"
          }
        ]
      }
    },
    {
      "type": "Control",
      "scope": "#/properties/status",
      "options": {
        "show": [
          ["ACTIVE", "Active"],
          ["OPTED_OUT", "Opted out"],
          ["TRANSFERRED_OUT", "Transferred out"],
          ["PAUSED", "Paused"]
        ]
      }
    },
    {
      "type": "Control",
      "scope": "#/properties/hivConfirmationDate",
      "label": "HIV Confirmation Date"
    },
    {
      "type": "Control",
      "scope": "#/properties/hivTestType",
      "label": "HIV Test Type"
    },
    {
      "type": "Control",
      "scope": "#/properties/riskGroup"
    },
    {
      "type": "Control",
      "scope": "#/properties/partnerHivStatus",
      "label": "Partner HIV Status",
      "options": {
        "show": [
          ["POSITIVE", "Positive"],
          ["NEGATIVE", "Negative"],
          ["UNKNOWN", "Unknown"],
          ["NOT_DONE", "Not Done"]
        ]
      }
    },
    {
      "type": "Control",
      "scope": "#/properties/mother"
    },
    {
      "type": "Group",
      "label": "Treatment Supporter",
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/treatmentSupporter/properties/firstName"
        },
        {
          "type": "Control",
          "scope": "#/properties/treatmentSupporter/properties/lastName"
        },
        {
          "type": "FirstItemArray",
          "scope": "#/properties/treatmentSupporter/properties/contactDetails",
          "options": {
            "detail": {
              "type": "VerticalLayout",
              "elements": [
                {
                  "type": "Control",
                  "scope": "/properties/phone"
                },
                {
                  "type": "Control",
                  "scope": "/properties/mobile"
                },
                {
                  "type": "Control",
                  "scope": "/properties/email"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "type": "Group",
      "label": "Referral Details",
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/referredFrom",
          "label": "Referred from",
          "options": {
            "show": [
              ["HCT_OTHER_PICT", "HCT other PICT"],
              ["INDEX", "Index"],
              ["LABOUR", "Labour"],
              ["POST_NATAL", "Post Natal"],
              ["TB", "TB"],
              ["COMMUNITY", "Community"],
              ["TRANSFER_IN", "Transfer in"],
              ["STI", "STI"],
              ["ANC", "ANC"],
              [
                "EXPOSED_INFANT_WELL_BABY_CLINIC",
                "Exposed infant well baby clinic"
              ],
              ["IN_PATIENT", "In patient"]
            ]
          }
        },
        {
          "type": "Control",
          "scope": "#/properties/priorART",
          "options": {
            "show": [
              ["TRANSFER_IN_WITH_RECORDS", "Transfer in with records"],
              ["TRANSFER_IN_WITHOUT_RECORDS", "Transfer in without records"],
              ["PPTCT_PROPHYLAXIS", "PPTCT Prophylaxis"],
              ["PEP", "PEP"],
              ["PrEP", "PrEP"]
            ]
          }
        }
      ]
    }
  ]
}
